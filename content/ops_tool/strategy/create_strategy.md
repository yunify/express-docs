---
title: "创建安置策略组"
description: 本小节主要介绍如何创建安置策略组。
draft: false
weight: 1
---

## 功能描述

安置策略组功能为用户提供了虚拟主机分组功能，用户可以通过创建合适关系的安置策略组并将部署的虚拟机加入相应的分组，从而将一组虚拟机实例按照分组关系部署到合适的物理节点上，来提高资源的可用性，业务的连续性。

- **应用场景：** 

若新购一台物理节点，并加入到集群中，短期内新建/启动所有的虚机都会分配在这台新服务器上，若有安置策略组，则可以增加用户对节点资源的分配调控能力。

- **具体应用场景实例**

以下图为例：DB_0和DB_1为主从数据库虚拟机，应该配置在不同的物理节点，以防止其中一台物理机宕机从而对业务运行产生影响。VM_0和VM_1是运行业务代码的虚拟机，他们需要和数据库虚拟机进行协同，所以VM_0和DB_0应该尽可能运行在同一个物理机上。同理，VM_0和VM_1功能相同，应该布置在不同的物理机以做容灾。

因此，两个DB之间应该选择“分散”的安置策略组，两个VM之间也应该选择“分散”的安置策略组。DB和VM之间应该选择“集中”的安置策略组。

   ![create_strategy_example](../../_images/create_strategy_example.png)

## 场景描述

该任务主要用于指导用户在云平台的运维工具中创建安置策略组。

## 前提条件

已获得**云平台**的登录账户和密码。

## 操作步骤

1. 登录管理平台。

2. 在顶部导航栏，选择**运维工具** > **安置策略组**，进入**安置策略组**列表页面。

   ![create_strategy_1](../../_images/create_strategy_1.png)

3. 点击**创建安置策略组**，在弹出的**创建安置策略组**窗口中，设置各项参数后，点击**创建**即可。

   ![create_strategy_2](../../_images/create_strategy_2.png)

- **参数说明**

   <table>
   <tr>
   <th style="width:30%">参数</th>
   <th style="width:70%">详细说明</th>
   </tr>
   <tr>
    <td> 名称</td>
    <td> 用户自定义，便于搜索与浏览。</td>
   </tr>
   <tr>
    <td>安置策略组关系</td>
    <td>
    <li>分散：组内的主机趋向于部署/迁移到不同的物理节点上；</li>
    <li>集中：组内的主机趋向于部署/迁移到相同的物理节点上。</li>   
    </td>
   </tr>
   <tr>
    <td>描述</td>
    <td>选填项，针对当前安置策略组的备注信息。</td>
   </tr>
   </table>

4. 返回**安置策略组**列表，点击创建成功的安置策略组的名称，进入其详情页面。在该页面可查看当前安置策略组的名称、ID、所属用户、关系、标签等基本信息以及其绑定的资源和操作日志。

   ![create_strategy_3](../../_images/create_strategy_3.png)

5. 在当前安置策略组详情页面，选择**绑定资源**，点击**加入虚拟机**，在弹出的**选择需要加入安置策略组的虚拟机**窗口中，勾选相应的主机，点击**确定**即可。

   > **注意：**
   >
   > - 加入安置策略组之后，若组内的虚拟机多于 1 台，虚拟机可能会根据分散策略发生迁移。
   > - 仅状态为`运行中`的主机可加入至安置策略组内。

   ![create_strategy_4](../../_images/create_strategy_4.png)

6. 主机加入安置策略组成功后，返回详情页面，在**绑定资源**页签内，新添加的主机已显示在列。

   ![create_strategy_5](../../_images/create_strategy_5.png)






